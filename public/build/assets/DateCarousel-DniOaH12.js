import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as _,i as p,B as M,H as f,c as u,b as a,t as v,F as $,r as B,o as c,n as g,x as N,d as F}from"./app-SE4O8QdG.js";const A={class:"mb-6"},I={class:"flex items-center justify-between mb-4"},j={class:"text-xl font-bold",style:{color:"var(--text-primary)"}},W={class:"flex gap-2"},Y={class:"flex justify-center"},z=["onClick","disabled"],L={class:"text-xs font-medium mb-1"},O={class:"text-2xl font-bold"},q={__name:"DateCarousel",props:{modelValue:{type:Object,default:null},currentWeekStart:{type:Date,required:!0}},emits:["update:modelValue","previous-week","next-week"],setup(i,{emit:y}){const n=i,b=y,s=_(null),k=p(()=>`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][n.currentWeekStart.getMonth()]} ${n.currentWeekStart.getFullYear()}`),d=p(()=>{const o=[],t=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/La_Paz"})),l=new Date(e.getFullYear(),e.getMonth(),e.getDate());for(let m=0;m<7;m++){const r=new Date(n.currentWeekStart);r.setDate(r.getDate()+m);const x=new Date(r.getFullYear(),r.getMonth(),r.getDate())>=l,w=r.getFullYear(),D=String(r.getMonth()+1).padStart(2,"0"),S=String(r.getDate()).padStart(2,"0"),C=`${w}-${D}-${S}`;o.push({date:C,dayName:t[r.getDay()],dayNumber:r.getDate(),fullDate:r,available:x})}return o}),h=o=>{if(o.available){if(n.modelValue?.date===o.date){b("update:modelValue",null);return}b("update:modelValue",o),f(()=>{if(s.value){const t=s.value.querySelectorAll("button"),e=d.value.findIndex(l=>l.date===o.date);t[e]&&t[e].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}})}};return M(()=>n.currentWeekStart,()=>{f(()=>{if(s.value){const o=d.value.find(t=>t.available);if(o){const t=s.value.querySelectorAll("button"),e=d.value.findIndex(l=>l.date===o.date);t[e]&&t[e].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}})},{immediate:!0}),(o,t)=>(c(),u("div",A,[a("div",I,[a("h2",j,v(k.value),1),a("div",W,[a("button",{onClick:t[0]||(t[0]=e=>o.$emit("previous-week")),class:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-primary)"}},[...t[2]||(t[2]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),a("button",{onClick:t[1]||(t[1]=e=>o.$emit("next-week")),class:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-primary)"}},[...t[3]||(t[3]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])])]),a("div",Y,[a("div",{ref_key:"daysContainer",ref:s,class:"flex gap-3 overflow-x-auto pb-2 hide-scrollbar"},[(c(!0),u($,null,B(d.value,e=>(c(),u("button",{key:e.date,onClick:l=>h(e),disabled:!e.available,class:N(["flex-shrink-0 w-20 py-3 px-2 rounded-lg text-center transition-all",i.modelValue?.date===e.date?"btn-primary":e.available?"border-2 hover:border-opacity-50":"opacity-40 cursor-not-allowed"]),style:g(e.available&&i.modelValue?.date!==e.date?{borderColor:"var(--color-primary)",color:"var(--text-primary)"}:{})},[a("div",L,v(e.dayName),1),a("div",O,v(e.dayNumber),1),e.available?(c(),u("div",{key:0,class:"w-2 h-2 rounded-full mx-auto mt-2",style:g({backgroundColor:i.modelValue?.date===e.date?"white":"var(--color-primary)"})},null,4)):F("",!0)],14,z))),128))],512)])]))}},P=V(q,[["__scopeId","data-v-505b373c"]]);export{P as default};
