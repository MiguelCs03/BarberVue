import{g as c,i as h,c as d,a as s,u,h as B,w as r,b as a,k as m,p as S,v as V,l as N,f as p,q as n,d as P,t as f,o as _,F as C}from"./app-SE4O8QdG.js";import{_ as v,a as E}from"./Card-6S7uMC2O.js";import{B as F}from"./Badge-Cq-G68wz.js";import{_ as $}from"./DataTable-DL0eouT8.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"flex flex-col md:flex-row gap-4 justify-between"},D={class:"flex-1 max-w-md"},L={class:"flex gap-3 items-center"},T={class:"font-semibold",style:{color:"var(--color-primary)"}},q={class:"flex items-center gap-2"},A={key:0,class:"text-red-600 text-xs"},J={__name:"Index",props:{productos:Array},setup(k){const b=k,i=c(""),l=c(""),x=[{key:"nombre",label:"Producto"},{key:"descripcion",label:"Descripción"},{key:"precio_venta",label:"Precio"},{key:"stock_actual",label:"Stock"}],y=[{label:"Ver",handler:e=>n.visit(route("products.show",e.id)),variant:"primary"},{label:"Editar",handler:e=>n.visit(route("products.edit",e.id)),variant:"primary"},{label:"Eliminar",handler:e=>{confirm(`¿Estás seguro de eliminar "${e.nombre}"?`)&&n.delete(route("products.destroy",e.id),{preserveScroll:!0})},variant:"danger"}],w=h(()=>{let e=b.productos;if(i.value){const t=i.value.toLowerCase();e=e.filter(o=>o.nombre.toLowerCase().includes(t)||o.descripcion&&o.descripcion.toLowerCase().includes(t))}return l.value==="low"?e=e.filter(t=>t.stock_actual>0&&t.stock_actual<=t.stock_minimo):l.value==="normal"?e=e.filter(t=>t.stock_actual>t.stock_minimo):l.value==="out"&&(e=e.filter(t=>t.stock_actual===0)),e}),g=e=>e.stock_actual===0?"danger":e.stock_actual<=e.stock_minimo?"warning":"success";return(e,t)=>(_(),d(C,null,[s(u(B),{title:"Gestión de Productos"}),s(E,null,{default:r(()=>[t[4]||(t[4]=a("div",{class:"mb-6"},[a("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Gestión de Productos "),a("p",{style:{color:"var(--text-secondary)"}}," Administra el inventario de productos de la barbería ")],-1)),s(v,{class:"mb-6"},{default:r(()=>[a("div",j,[a("div",D,[m(a("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),type:"text",placeholder:"Buscar por nombre o descripción...",class:"input w-full"},null,512),[[S,i.value]])]),a("div",L,[m(a("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.value=o),class:"input"},[...t[2]||(t[2]=[a("option",{value:""},"Todos los productos",-1),a("option",{value:"low"},"Stock bajo",-1),a("option",{value:"normal"},"Stock normal",-1),a("option",{value:"out"},"Sin stock",-1)])],512),[[V,l.value]]),s(u(N),{href:e.route("products.create"),class:"btn-primary whitespace-nowrap"},{default:r(()=>[...t[3]||(t[3]=[p(" + Nuevo Producto ",-1)])]),_:1},8,["href"])])])]),_:1}),s(v,null,{default:r(()=>[s($,{columns:x,data:w.value,actions:y},{"cell-precio_venta":r(({value:o})=>[a("span",T," Bs. "+f(o?Number(o).toFixed(2):"0.00"),1)]),"cell-stock_actual":r(({item:o})=>[a("div",q,[s(F,{variant:g(o)},{default:r(()=>[p(f(o.stock_actual)+" unidades ",1)]),_:2},1032,["variant"]),o.stock_actual<=o.stock_minimo?(_(),d("span",A," ⚠️ Bajo ")):P("",!0)])]),_:1},8,["data"])]),_:1})]),_:1})],64))}};export{J as default};
