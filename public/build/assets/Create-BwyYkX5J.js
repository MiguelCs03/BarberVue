import{g as u,i as w,c as l,a as n,u as b,h as T,w as m,b as o,l as _,f as k,j as U,d as C,k as r,o as i,F as p,r as y,t as s,v as f,n as q,m as F,p as x,q as M}from"./app-SE4O8QdG.js";import{_ as N,a as j}from"./Card-6S7uMC2O.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";const z={class:"mb-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P=["value"],E=["value"],L={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},R=["value"],$={class:"flex-1"},A={class:"font-medium",style:{color:"var(--text-primary)"}},G={class:"text-sm",style:{color:"var(--text-secondary)"}},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={key:0,class:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"}},K={class:"flex justify-between items-center"},O={class:"text-2xl font-bold",style:{color:"var(--color-primary)"}},Q={key:0,class:"mt-2 text-sm",style:{color:"var(--text-secondary)"}},W={class:"flex gap-3 pt-4"},oe={__name:"Create",setup(X){const V=u([{id:5,nombre:"Luis García"},{id:6,nombre:"Sofía Reyes"},{id:7,nombre:"Marcos Vargas"},{id:8,nombre:"Valeria Ramos"}]),S=u([{id:2,nombre:"Juan Pérez"},{id:3,nombre:"Carlos López"}]),g=u([{id:1,nombre:"Corte de cabello",duracion_estimada:30,precio:15},{id:2,nombre:"Afeitado",duracion_estimada:20,precio:10},{id:3,nombre:"Corte + Barba",duracion_estimada:45,precio:25},{id:4,nombre:"Coloración",duracion_estimada:60,precio:40},{id:5,nombre:"Tratamiento capilar",duracion_estimada:40,precio:20},{id:6,nombre:"Perfilado de barba",duracion_estimada:15,precio:8}]),a=u({cliente_id:"",barbero_id:"",servicios:[],fecha:"",hora:"",tipo_pago_id:"",pago_inicial:0}),c=w(()=>a.value.servicios.reduce((d,e)=>{const t=g.value.find(v=>v.id===e);return d+(t?t.precio:0)},0)),B=()=>{if(a.value.servicios.length===0){alert("Debes seleccionar al menos un servicio");return}alert("Cita creada exitosamente (funcionalidad de backend pendiente)"),M.visit(route("appointments.index"))};return(d,e)=>(i(),l(p,null,[n(b(T),{title:"Nueva Cita"}),n(j,null,{default:m(()=>[o("div",z,[n(b(_),{href:d.route("appointments.index"),class:"inline-flex items-center gap-2 mb-4 hover:opacity-75 transition-opacity",style:{color:"var(--color-primary)"}},{default:m(()=>[...e[7]||(e[7]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),k(" Volver ",-1)])]),_:1},8,["href"]),e[8]||(e[8]=o("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Nueva Cita ",-1))]),n(N,null,{default:m(()=>[o("form",{onSubmit:U(B,["prevent"]),class:"space-y-6"},[o("div",D,[o("div",null,[e[10]||(e[10]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Cliente * ",-1)),r(o("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.cliente_id=t),required:"",class:"input"},[e[9]||(e[9]=o("option",{value:""},"Seleccionar cliente",-1)),(i(!0),l(p,null,y(V.value,t=>(i(),l("option",{key:t.id,value:t.id},s(t.nombre),9,P))),128))],512),[[f,a.value.cliente_id]])]),o("div",null,[e[12]||(e[12]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Barbero * ",-1)),r(o("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.barbero_id=t),required:"",class:"input"},[e[11]||(e[11]=o("option",{value:""},"Seleccionar barbero",-1)),(i(!0),l(p,null,y(S.value,t=>(i(),l("option",{key:t.id,value:t.id},s(t.nombre),9,E))),128))],512),[[f,a.value.barbero_id]])])]),o("div",null,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Servicios * ",-1)),o("div",L,[(i(!0),l(p,null,y(g.value,t=>(i(),l("label",{key:t.id,class:"flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all",style:q({borderColor:a.value.servicios.includes(t.id)?"var(--color-primary)":"var(--text-secondary)",backgroundColor:a.value.servicios.includes(t.id)?"var(--bg-secondary)":"transparent"})},[r(o("input",{type:"checkbox",value:t.id,"onUpdate:modelValue":e[2]||(e[2]=v=>a.value.servicios=v),class:"w-4 h-4"},null,8,R),[[F,a.value.servicios]]),o("div",$,[o("p",A,s(t.nombre),1),o("p",G,s(t.duracion_estimada)+" min - Bs. "+s(t.precio.toFixed(2)),1)])],4))),128))])]),o("div",H,[o("div",null,[e[14]||(e[14]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Fecha * ",-1)),r(o("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.fecha=t),type:"date",required:"",class:"input"},null,512),[[x,a.value.fecha]])]),o("div",null,[e[15]||(e[15]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Hora * ",-1)),r(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.hora=t),type:"time",required:"",class:"input"},null,512),[[x,a.value.hora]])])]),o("div",I,[o("div",null,[e[17]||(e[17]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Tipo de Pago * ",-1)),r(o("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.tipo_pago_id=t),required:"",class:"input"},[...e[16]||(e[16]=[o("option",{value:""},"Seleccionar tipo",-1),o("option",{value:"1"},"Contado",-1),o("option",{value:"2"},"Tarjeta",-1),o("option",{value:"3"},"Transferencia",-1)])],512),[[f,a.value.tipo_pago_id]])]),o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Pago Inicial (Bs.) ",-1)),r(o("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.pago_inicial=t),type:"number",step:"0.01",min:"0",class:"input",placeholder:"0.00"},null,512),[[x,a.value.pago_inicial,void 0,{number:!0}]]),e[19]||(e[19]=o("p",{class:"text-xs mt-1",style:{color:"var(--text-secondary)"}}," Dejar en 0 para pago completo al finalizar ",-1))])]),c.value>0?(i(),l("div",J,[o("div",K,[e[20]||(e[20]=o("span",{class:"font-medium",style:{color:"var(--text-primary)"}},"Total Estimado:",-1)),o("span",O," Bs. "+s(c.value.toFixed(2)),1)]),a.value.pago_inicial>0?(i(),l("div",Q," Saldo pendiente: Bs. "+s((c.value-a.value.pago_inicial).toFixed(2)),1)):C("",!0)])):C("",!0),o("div",W,[e[22]||(e[22]=o("button",{type:"submit",class:"btn-primary"}," Crear Cita ",-1)),n(b(_),{href:d.route("appointments.index"),class:"btn-secondary"},{default:m(()=>[...e[21]||(e[21]=[k(" Cancelar ",-1)])]),_:1},8,["href"])])],32)]),_:1})]),_:1})],64))}};export{oe as default};
