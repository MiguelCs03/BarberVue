import{g as d,i as M,c as m,a as n,u as p,h as j,w as i,b as a,k as v,v as _,o as u,F as f,r as V,t as r,l as B,f as c,q as I,n as T}from"./app-SE4O8QdG.js";import{_ as b,a as C}from"./Card-6S7uMC2O.js";import{B as D}from"./Badge-Cq-G68wz.js";import{_ as F}from"./DataTable-DL0eouT8.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex flex-col md:flex-row gap-4 justify-between"},P={class:"flex gap-3"},N=["value"],J={__name:"Index",setup(L){const g=d([{id:1,nombre:"Shampoo profesional"},{id:2,nombre:"Pomada"},{id:3,nombre:"Acondicionador"},{id:4,nombre:"Gel fijador"}]),y=d([{id:1,producto_id:1,producto_nombre:"Shampoo profesional",usuario_nombre:"Miguel Acs",cantidad:10,motivo:"Stock inicial",tipo_movimiento:"ingreso",fecha:"2025-11-22 10:00:00"},{id:2,producto_id:2,producto_nombre:"Pomada",usuario_nombre:"Miguel Acs",cantidad:15,motivo:"Stock inicial",tipo_movimiento:"ingreso",fecha:"2025-11-22 10:05:00"},{id:3,producto_id:1,producto_nombre:"Shampoo profesional",usuario_nombre:"Miguel Acs",cantidad:5,motivo:"Compra mensual",tipo_movimiento:"ingreso",fecha:"2025-11-22 14:00:00"},{id:4,producto_id:2,producto_nombre:"Pomada",usuario_nombre:"Miguel Acs",cantidad:2,motivo:"Ajuste por rotura",tipo_movimiento:"ajuste",fecha:"2025-11-22 15:00:00"},{id:5,producto_id:3,producto_nombre:"Acondicionador",usuario_nombre:"Miguel Acs",cantidad:12,motivo:"Stock inicial acondicionador",tipo_movimiento:"ingreso",fecha:"2025-11-22 16:00:00"},{id:6,producto_id:4,producto_nombre:"Gel fijador",usuario_nombre:"Miguel Acs",cantidad:20,motivo:"Compra proveedor A",tipo_movimiento:"ingreso",fecha:"2025-11-22 17:00:00"},{id:7,producto_id:2,producto_nombre:"Pomada",usuario_nombre:"Ana Gomez",cantidad:5,motivo:"Venta mostrador",tipo_movimiento:"salida_venta",fecha:"2025-11-22 18:00:00"}]),s=d(""),l=d(""),h=[{key:"producto_nombre",label:"Producto"},{key:"tipo_movimiento",label:"Tipo"},{key:"cantidad",label:"Cantidad"},{key:"motivo",label:"Motivo"},{key:"usuario_nombre",label:"Usuario"},{key:"fecha",label:"Fecha"}],k=[{label:"Ver",handler:e=>I.visit(route("inventory.show",e.id)),variant:"primary"}],A=M(()=>{let e=y.value;return s.value&&(e=e.filter(o=>o.tipo_movimiento===s.value)),l.value&&(e=e.filter(o=>o.producto_id===parseInt(l.value))),e}),S=e=>e==="ingreso"?"success":e==="salida_venta"?"danger":"warning",x=e=>({ingreso:"Ingreso",salida_venta:"Salida",ajuste:"Ajuste"})[e]||e,w=e=>new Date(e).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(e,o)=>(u(),m(f,null,[n(p(j),{title:"Gestión de Inventario"}),n(C,null,{default:i(()=>[o[5]||(o[5]=a("div",{class:"mb-6"},[a("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Gestión de Inventario "),a("p",{style:{color:"var(--text-secondary)"}}," Registra y consulta movimientos de inventario ")],-1)),n(b,{class:"mb-6"},{default:i(()=>[a("div",G,[a("div",P,[v(a("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.value=t),class:"input"},[...o[2]||(o[2]=[a("option",{value:""},"Todos los movimientos",-1),a("option",{value:"ingreso"},"Ingresos",-1),a("option",{value:"salida_venta"},"Salidas",-1),a("option",{value:"ajuste"},"Ajustes",-1)])],512),[[_,s.value]]),v(a("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>l.value=t),class:"input"},[o[3]||(o[3]=a("option",{value:""},"Todos los productos",-1)),(u(!0),m(f,null,V(g.value,t=>(u(),m("option",{key:t.id,value:t.id},r(t.nombre),9,N))),128))],512),[[_,l.value]])]),n(p(B),{href:e.route("inventory.create"),class:"btn-primary whitespace-nowrap"},{default:i(()=>[...o[4]||(o[4]=[c(" + Nuevo Movimiento ",-1)])]),_:1},8,["href"])])]),_:1}),n(b,null,{default:i(()=>[n(F,{columns:h,data:A.value,actions:k},{"cell-tipo_movimiento":i(({value:t})=>[n(D,{variant:S(t)},{default:i(()=>[c(r(x(t)),1)]),_:2},1032,["variant"])]),"cell-cantidad":i(({item:t})=>[a("span",{class:"font-semibold",style:T({color:t.tipo_movimiento==="salida_venta"?"#DC2626":"var(--color-primary)"})},r(t.tipo_movimiento==="salida_venta"?"-":"+")+r(t.cantidad),5)]),"cell-fecha":i(({value:t})=>[c(r(w(t)),1)]),_:1},8,["data"])]),_:1})]),_:1})],64))}};export{J as default};
