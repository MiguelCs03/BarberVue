import{g as u,i as E,c as V,a as r,u as c,h as C,w as l,b as s,k as m,p as U,v as L,l as N,f as n,q as d,t as p,F as R,o as D}from"./app-SE4O8QdG.js";import{_ as f,a as $}from"./Card-6S7uMC2O.js";import{B as v}from"./Badge-Cq-G68wz.js";import{_ as A}from"./DataTable-DL0eouT8.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"flex flex-col md:flex-row gap-4 justify-between"},S={class:"flex-1 max-w-md"},T={class:"flex gap-3 items-center"},z={__name:"Index",props:{users:Array},setup(b){const y=b,o=u(""),i=u(""),_=[{key:"name",label:"Nombre"},{key:"email",label:"Email"},{key:"rol",label:"Rol"},{key:"estado",label:"Estado"},{key:"created_at",label:"Fecha Registro"}],g=[{label:"Ver",handler:e=>d.visit(route("users.show",e.id)),variant:"primary"},{label:"Editar",handler:e=>d.visit(route("users.edit",e.id)),variant:"primary"},{label:"Eliminar",handler:e=>{confirm(`¿Estás seguro de eliminar a ${e.name}?`)&&d.delete(route("users.destroy",e.id),{preserveScroll:!0})},variant:"danger"}],x=E(()=>{let e=y.users;if(o.value){const a=o.value.toLowerCase();e=e.filter(t=>t.name.toLowerCase().includes(a)||t.email.toLowerCase().includes(a))}return i.value&&(e=e.filter(a=>a.rol===i.value)),e}),w=e=>({barbero:"Barbero",cliente:"Cliente"})[e]||e,B=e=>({barbero:"primary",cliente:"secondary"})[e]||"default",h=e=>({disponible:"Disponible",ocupado:"Ocupado",descanso:"Descanso",activo:"Activo"})[e]||e,k=e=>({disponible:"success",ocupado:"warning",descanso:"info",activo:"success"})[e]||"default";return(e,a)=>(D(),V(R,null,[r(c(C),{title:"Gestión de Usuarios"}),r($,null,{default:l(()=>[a[4]||(a[4]=s("div",{class:"mb-6"},[s("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Gestión de Usuarios "),s("p",{style:{color:"var(--text-secondary)"}}," Administra propietarios, barberos, secretarias y clientes ")],-1)),r(f,{class:"mb-6"},{default:l(()=>[s("div",F,[s("div",S,[m(s("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.value=t),type:"text",placeholder:"Buscar por nombre o email...",class:"input w-full"},null,512),[[U,o.value]])]),s("div",T,[m(s("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>i.value=t),class:"input"},[...a[2]||(a[2]=[s("option",{value:""},"Todos los roles",-1),s("option",{value:"barbero"},"Barberos",-1),s("option",{value:"cliente"},"Clientes",-1)])],512),[[L,i.value]]),r(c(N),{href:e.route("users.create"),class:"btn-primary whitespace-nowrap"},{default:l(()=>[...a[3]||(a[3]=[n(" + Nuevo Usuario ",-1)])]),_:1},8,["href"])])])]),_:1}),r(f,null,{default:l(()=>[r(A,{columns:_,data:x.value,actions:g},{"cell-rol":l(({value:t})=>[r(v,{variant:B(t)},{default:l(()=>[n(p(w(t)),1)]),_:2},1032,["variant"])]),"cell-estado":l(({value:t})=>[r(v,{variant:k(t)},{default:l(()=>[n(p(h(t)),1)]),_:2},1032,["variant"])]),_:1},8,["data"])]),_:1})]),_:1})],64))}};export{z as default};
