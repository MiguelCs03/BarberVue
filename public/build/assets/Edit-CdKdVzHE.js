import{s as C,c as l,a as u,u as t,h as _,w as p,b as s,l as v,f as x,j as V,d as n,k as d,p as b,o as a,t as i,v as f,F as k,r as U,n as S,m as B}from"./app-SE4O8QdG.js";import{_ as N,a as E}from"./Card-6S7uMC2O.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";const M={class:"mb-6"},q={key:0,class:"mt-1 text-sm text-red-600"},j={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},F={key:0},z={key:0,class:"mt-1 text-sm text-red-600"},G={key:1},O={key:2},T={class:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"}},$=["value"],A={class:"flex-1"},L={class:"font-semibold"},R={class:"text-xs opacity-75"},h={class:"text-sm mt-1"},H={key:0,class:"mt-1 text-sm text-red-600"},I={class:"flex gap-3 pt-4"},J=["disabled"],X={__name:"Edit",props:{user:Object,servicios:{type:Array,default:()=>[]}},setup(c){const m=c,r=C({name:m.user.name,email:m.user.email,password:"",password_confirmation:"",rol:m.user.rol,estado_barbero:m.user.estado_barbero||"disponible",servicios:m.user.servicios||[]}),w=()=>{r.put(route("users.update",m.user.id),{preserveScroll:!0})};return(y,e)=>(a(),l(k,null,[u(t(_),{title:"Editar Usuario"}),u(E,null,{default:p(()=>[s("div",M,[u(t(v),{href:y.route("users.index"),class:"inline-flex items-center gap-2 mb-4 hover:opacity-75 transition-opacity",style:{color:"var(--color-primary)"}},{default:p(()=>[...e[7]||(e[7]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),x(" Volver ",-1)])]),_:1},8,["href"]),e[8]||(e[8]=s("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Editar Usuario ",-1))]),u(N,null,{default:p(()=>[s("form",{onSubmit:V(w,["prevent"]),class:"space-y-6"},[s("div",null,[e[9]||(e[9]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Nombre Completo * ",-1)),d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).name=o),type:"text",required:"",class:"input"},null,512),[[b,t(r).name]]),t(r).errors.name?(a(),l("p",q,i(t(r).errors.name),1)):n("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Email * ",-1)),d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t(r).email=o),type:"email",required:"",class:"input"},null,512),[[b,t(r).email]]),t(r).errors.email?(a(),l("p",j,i(t(r).errors.email),1)):n("",!0)]),s("div",null,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Nueva Contraseña (dejar en blanco para mantener la actual) ",-1)),d(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t(r).password=o),type:"password",class:"input",placeholder:"Mínimo 8 caracteres"},null,512),[[b,t(r).password]]),t(r).errors.password?(a(),l("p",D,i(t(r).errors.password),1)):n("",!0)]),t(r).password?(a(),l("div",F,[e[12]||(e[12]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Confirmar Nueva Contraseña ",-1)),d(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t(r).password_confirmation=o),type:"password",class:"input"},null,512),[[b,t(r).password_confirmation]])])):n("",!0),s("div",null,[e[14]||(e[14]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Rol * ",-1)),d(s("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>t(r).rol=o),required:"",class:"input"},[...e[13]||(e[13]=[s("option",{value:"barbero"},"Barbero",-1),s("option",{value:"cliente"},"Cliente",-1)])],512),[[f,t(r).rol]]),t(r).errors.rol?(a(),l("p",z,i(t(r).errors.rol),1)):n("",!0)]),t(r).rol==="barbero"?(a(),l("div",G,[e[16]||(e[16]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Estado del Barbero ",-1)),d(s("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>t(r).estado_barbero=o),class:"input"},[...e[15]||(e[15]=[s("option",{value:"disponible"},"Disponible",-1),s("option",{value:"ocupado"},"Ocupado",-1),s("option",{value:"descanso"},"Descanso",-1)])],512),[[f,t(r).estado_barbero]])])):n("",!0),t(r).rol==="barbero"?(a(),l("div",O,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"}}," Servicios que ofrece * ",-1)),e[18]||(e[18]=s("p",{class:"text-xs mb-3",style:{color:"var(--text-secondary)"}}," Selecciona los servicios que este barbero puede realizar ",-1)),s("div",T,[(a(!0),l(k,null,U(c.servicios,o=>(a(),l("label",{key:o.id,class:"flex items-start gap-3 p-3 rounded-lg cursor-pointer transition-all hover:opacity-80",style:S({backgroundColor:t(r).servicios.includes(o.id)?"var(--color-primary)":"var(--bg-primary)",color:t(r).servicios.includes(o.id)?"white":"var(--text-primary)"})},[d(s("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[6]||(e[6]=g=>t(r).servicios=g),class:"mt-1 w-4 h-4 rounded",style:{accentColor:"var(--color-primary)"}},null,8,$),[[B,t(r).servicios]]),s("div",A,[s("p",L,i(o.nombre),1),s("p",R,i(o.descripcion),1),s("p",h,"Bs. "+i(o.precio),1)])],4))),128))]),t(r).errors.servicios?(a(),l("p",H,i(t(r).errors.servicios),1)):n("",!0)])):n("",!0),s("div",I,[s("button",{type:"submit",class:"btn-primary",disabled:t(r).processing},i(t(r).processing?"Guardando...":"Guardar Cambios"),9,J),u(t(v),{href:y.route("users.index"),class:"btn-secondary"},{default:p(()=>[...e[19]||(e[19]=[x(" Cancelar ",-1)])]),_:1},8,["href"])])],32)]),_:1})]),_:1})],64))}};export{X as default};
