import{g as s,i as w,c,a as n,u as m,h as B,w as i,b as t,k as f,v as L,p as P,l as S,f as d,q as u,o as p,t as _,F as V}from"./app-SE4O8QdG.js";import{_ as b,a as z}from"./Card-6S7uMC2O.js";import{B as F}from"./Badge-Cq-G68wz.js";import{_ as E}from"./DataTable-DL0eouT8.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"flex flex-col md:flex-row gap-4 justify-between"},D={class:"flex gap-3"},G={key:0,class:"font-semibold",style:{color:"var(--color-primary)"}},M={key:1,style:{color:"var(--text-secondary)"}},U={__name:"Index",setup(N){const g=s([{id:1,cliente_nombre:"Luis García",barbero_nombre:"Juan Pérez",servicios:"Corte de cabello",tipo_pago:"contado",pago_inicial:0,fecha_hora_inicio:"2025-11-10 10:00:00",fecha_hora_fin:"2025-11-10 10:30:00",estado:"pendiente_pago_adelanto"},{id:2,cliente_nombre:"Sofía Reyes",barbero_nombre:"Carlos López",servicios:"Corte + Barba",tipo_pago:"tarjeta",pago_inicial:5,fecha_hora_inicio:"2025-11-11 14:00:00",fecha_hora_fin:"2025-11-11 14:45:00",estado:"confirmada"},{id:3,cliente_nombre:"Luis García",barbero_nombre:"Carlos López",servicios:"Afeitado",tipo_pago:"contado",pago_inicial:0,fecha_hora_inicio:"2025-11-09 16:00:00",fecha_hora_fin:"2025-11-09 16:30:00",estado:"completada"},{id:4,cliente_nombre:"Marcos Vargas",barbero_nombre:"Juan Pérez",servicios:"Corte de cabello",tipo_pago:"contado",pago_inicial:0,fecha_hora_inicio:"2025-11-12 09:30:00",fecha_hora_fin:"2025-11-12 10:00:00",estado:"pendiente_pago_adelanto"},{id:5,cliente_nombre:"Valeria Ramos",barbero_nombre:"Carlos López",servicios:"Tratamiento capilar, Perfilado de barba",tipo_pago:"contado",pago_inicial:0,fecha_hora_inicio:"2025-11-12 11:00:00",fecha_hora_fin:"2025-11-12 11:30:00",estado:"confirmada"},{id:6,cliente_nombre:"Flor Méndez",barbero_nombre:"Juan Pérez",servicios:"Corte + Barba, Perfilado de barba",tipo_pago:"tarjeta",pago_inicial:3,fecha_hora_inicio:"2025-11-13 15:00:00",fecha_hora_fin:"2025-11-13 15:45:00",estado:"confirmada"}]),r=s(""),l=s(""),v=[{key:"cliente_nombre",label:"Cliente"},{key:"barbero_nombre",label:"Barbero"},{key:"servicios",label:"Servicios"},{key:"fecha_hora_inicio",label:"Fecha/Hora"},{key:"pago_inicial",label:"Pago Inicial"},{key:"estado",label:"Estado"}],h=[{label:"Ver",handler:a=>u.visit(route("appointments.show",a.id)),variant:"primary"},{label:"Editar",handler:a=>u.visit(route("appointments.edit",a.id)),variant:"primary"},{label:"Cancelar",handler:a=>{confirm("¿Estás seguro de cancelar esta cita?")&&alert("Cita cancelada (funcionalidad de backend pendiente)")},variant:"danger"}],y=w(()=>{let a=g.value;if(r.value&&(a=a.filter(e=>e.estado===r.value)),l.value){const e=l.value.toLowerCase();a=a.filter(o=>o.cliente_nombre.toLowerCase().includes(e)||o.barbero_nombre.toLowerCase().includes(e))}return a}),C=a=>({pendiente_pago_adelanto:"warning",confirmada:"info",completada:"success",cancelada:"danger"})[a]||"default",x=a=>({pendiente_pago_adelanto:"Pendiente Pago",confirmada:"Confirmada",completada:"Completada",cancelada:"Cancelada"})[a]||a,k=a=>new Date(a).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(a,e)=>(p(),c(V,null,[n(m(B),{title:"Gestión de Citas"}),n(z,null,{default:i(()=>[e[4]||(e[4]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Gestión de Citas "),t("p",{style:{color:"var(--text-secondary)"}}," Administra las citas de los clientes ")],-1)),n(b,{class:"mb-6"},{default:i(()=>[t("div",T,[t("div",D,[f(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),class:"input"},[...e[2]||(e[2]=[t("option",{value:""},"Todos los estados",-1),t("option",{value:"pendiente_pago_adelanto"},"Pendiente Pago",-1),t("option",{value:"confirmada"},"Confirmada",-1),t("option",{value:"completada"},"Completada",-1),t("option",{value:"cancelada"},"Cancelada",-1)])],512),[[L,r.value]]),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),type:"text",placeholder:"Buscar cliente...",class:"input"},null,512),[[P,l.value]])]),n(m(S),{href:a.route("appointments.create"),class:"btn-primary whitespace-nowrap"},{default:i(()=>[...e[3]||(e[3]=[d(" + Nueva Cita ",-1)])]),_:1},8,["href"])])]),_:1}),n(b,null,{default:i(()=>[n(E,{columns:v,data:y.value,actions:h},{"cell-estado":i(({value:o})=>[n(F,{variant:C(o)},{default:i(()=>[d(_(x(o)),1)]),_:2},1032,["variant"])]),"cell-fecha_hora_inicio":i(({value:o})=>[d(_(k(o)),1)]),"cell-pago_inicial":i(({item:o})=>[o.pago_inicial>0?(p(),c("span",G," Bs. "+_(o.pago_inicial.toFixed(2)),1)):(p(),c("span",M," Sin adelanto "))]),_:1},8,["data"])]),_:1})]),_:1})],64))}};export{U as default};
