import{c as l,a as i,u as e,h as w,w as n,b as t,t as o,o as a,d as v,F as f,r as b,e as k,f as V,n as C}from"./app-SE4O8QdG.js";import{u as B,_ as c,a as j}from"./Card-6S7uMC2O.js";import{B as N}from"./Badge-Cq-G68wz.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},D={class:"flex items-center justify-between"},L={class:"text-3xl font-bold mt-2",style:{color:"var(--color-primary)"}},M={class:"p-3 rounded-full",style:{backgroundColor:"var(--bg-primary)"}},z={class:"w-8 h-8",style:{color:"var(--color-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A={class:"flex items-center justify-between"},E={class:"text-3xl font-bold mt-2",style:{color:"var(--color-secondary)"}},F={class:"p-3 rounded-full",style:{backgroundColor:"var(--bg-primary)"}},S={class:"w-8 h-8",style:{color:"var(--color-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$={class:"flex items-center justify-between"},q={class:"flex-1 min-w-0"},H={class:"text-lg font-bold mt-2 truncate",style:{color:"var(--color-accent)"}},T={class:"text-sm",style:{color:"var(--text-secondary)"}},G={class:"p-3 rounded-full",style:{backgroundColor:"var(--bg-primary)"}},I={class:"w-8 h-8",style:{color:"var(--color-accent)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={class:"overflow-x-auto"},K={class:"min-w-full divide-y",style:{borderColor:"var(--text-secondary)"}},O={class:"divide-y",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--text-secondary)"}},Q={class:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{color:"var(--text-primary)"}},R={class:"px-6 py-4 whitespace-nowrap",style:{color:"var(--text-primary)"}},U={class:"flex items-center gap-2"},W={class:"font-medium"},X={class:"text-xs",style:{color:"var(--text-secondary)"}},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"flex items-center gap-2"},tt={class:"flex-1 bg-gray-200 rounded-full h-2 max-w-[100px]"},st={class:"text-sm font-bold",style:{color:"var(--color-primary)"}},et={class:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"var(--text-secondary)"}},ot={class:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"var(--text-secondary)"}},at={key:0},mt={__name:"Visits",setup(rt){const{totalVisits:p,mostVisitedPage:d,getAllPageVisits:m,clearAllVisits:_,getPageDisplayName:y}=B(),g=u=>u?new Date(u).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca",h=()=>{confirm("쮼st치s seguro de que quieres limpiar todos los datos de visitas?")&&(_(),alert("Datos de visitas eliminados correctamente"))};return(u,s)=>(a(),l(f,null,[i(e(w),{title:"Estad칤sticas de Visitas"}),i(j,null,{default:n(()=>[s[10]||(s[10]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Estad칤sticas de Visitas "),t("p",{style:{color:"var(--text-secondary)"}}," An치lisis de las p치ginas m치s visitadas del sistema ")],-1)),t("div",P,[i(c,null,{default:n(()=>[t("div",D,[t("div",null,[s[0]||(s[0]=t("p",{class:"text-sm font-medium",style:{color:"var(--text-secondary)"}}," Total de Visitas ",-1)),t("p",L,o(e(p)),1)]),t("div",M,[(a(),l("svg",z,[...s[1]||(s[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])]))])])]),_:1}),i(c,null,{default:n(()=>[t("div",A,[t("div",null,[s[2]||(s[2]=t("p",{class:"text-sm font-medium",style:{color:"var(--text-secondary)"}}," P치ginas Visitadas ",-1)),t("p",E,o(e(m).length),1)]),t("div",F,[(a(),l("svg",S,[...s[3]||(s[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])]))])])]),_:1}),i(c,null,{default:n(()=>[t("div",$,[t("div",q,[s[4]||(s[4]=t("p",{class:"text-sm font-medium",style:{color:"var(--text-secondary)"}}," M치s Visitada ",-1)),t("p",H,o(e(d)?e(y)(e(d).page):"N/A"),1),t("p",T,o(e(d)?e(d).count:0)+" visitas ",1)]),t("div",G,[(a(),l("svg",I,[...s[5]||(s[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"},null,-1)])]))])])]),_:1})]),i(c,null,{default:n(()=>[t("div",{class:"flex justify-between items-center mb-4"},[s[6]||(s[6]=t("h2",{class:"text-xl font-bold",style:{color:"var(--text-primary)"}}," Detalle de Visitas por P치gina ",-1)),t("button",{onClick:h,class:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors"}," Limpiar Datos ")]),t("div",J,[t("table",K,[s[9]||(s[9]=t("thead",null,[t("tr",{style:{backgroundColor:"var(--bg-secondary)"}},[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--text-secondary)"}}," # "),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--text-secondary)"}}," P치gina "),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--text-secondary)"}}," Visitas "),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--text-secondary)"}}," Porcentaje "),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--text-secondary)"}}," 칔ltima Visita ")])],-1)),t("tbody",O,[(a(!0),l(f,null,b(e(m),(r,x)=>(a(),l("tr",{key:r.page,class:"hover:opacity-75 transition-opacity"},[t("td",Q,o(x+1),1),t("td",R,[t("div",U,[x===0?(a(),k(N,{key:0,variant:"primary"},{default:n(()=>[...s[7]||(s[7]=[V("游끥",-1)])]),_:1})):v("",!0),t("span",W,o(e(y)(r.page)),1)]),t("div",X,o(r.page),1)]),t("td",Y,[t("div",Z,[t("div",tt,[t("div",{class:"h-2 rounded-full transition-all",style:C({width:`${r.count/e(p)*100}%`,backgroundColor:"var(--color-primary)"})},null,4)]),t("span",st,o(r.count),1)])]),t("td",et,o((r.count/e(p)*100).toFixed(1))+"% ",1),t("td",ot,o(g(r.lastVisit)),1)]))),128)),e(m).length===0?(a(),l("tr",at,[...s[8]||(s[8]=[t("td",{colspan:"5",class:"px-6 py-8 text-center",style:{color:"var(--text-secondary)"}}," No hay datos de visitas disponibles ",-1)])])):v("",!0)])])])]),_:1})]),_:1})],64))}};export{mt as default};
