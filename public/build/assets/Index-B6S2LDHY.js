import{g as f,i as v,c as r,a as i,u as m,h as V,w as o,b as t,k as y,v as T,p as N,l as b,f as x,d as F,q as H,o as l,t as c,F as p,r as S,e as j,x as _}from"./app-SE4O8QdG.js";import{_ as g,a as P}from"./Card-6S7uMC2O.js";import{B as $}from"./Badge-Cq-G68wz.js";import{_ as q}from"./DataTable-DL0eouT8.js";import{r as A}from"./EyeIcon-DSM1MZJ6.js";import"./useTheme-otSVn3jk.js";import"./useAccessibility-DclxZ0zr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"flex flex-col md:flex-row gap-4 justify-between"},E={class:"flex gap-3"},I={class:"font-semibold"},U={key:0,class:"font-semibold",style:{color:"var(--color-primary)"}},z={key:1,style:{color:"var(--text-secondary)"}},O={key:0,class:"mt-4 flex justify-between items-center"},Q={style:{color:"var(--text-secondary)"}},G={class:"flex gap-2"},J=["innerHTML"],te={__name:"Index",props:{citas:Object},setup(n){const h=n,d=f(""),u=f(""),C=[{key:"barbero",label:"Barbero"},{key:"fecha",label:"Fecha/Hora"},{key:"pago_inicial",label:"Pago Inicial"},{key:"estado",label:"Estado"}],k=[{label:"Ver",icon:A,handler:s=>H.visit(route("citas-cliente.show",s.id)),variant:"primary"}],w=v(()=>h.citas.data),B=v(()=>{let s=w.value;if(d.value&&(s=s.filter(a=>a.estado===d.value)),u.value){const a=u.value.toLowerCase();s=s.filter(e=>(e.barbero||"").toLowerCase().includes(a))}return s}),M=s=>({pendiente:"warning",confirmada:"info",completada:"success",cancelada:"danger"})[s]||"default",L=s=>({pendiente:"Pendiente",confirmada:"Confirmada",completada:"Completada",cancelada:"Cancelada"})[s]||s;return(s,a)=>(l(),r(p,null,[i(m(V),{title:"Mis Citas"}),i(P,null,{default:o(()=>[a[4]||(a[4]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"}}," Mis Citas "),t("p",{style:{color:"var(--text-secondary)"}}," Consulta y administra tus citas reservadas ")],-1)),i(g,{class:"mb-6"},{default:o(()=>[t("div",D,[t("div",E,[y(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),class:"input"},[...a[2]||(a[2]=[t("option",{value:""},"Todos los estados",-1),t("option",{value:"pendiente"},"Pendiente",-1),t("option",{value:"confirmada"},"Confirmada",-1),t("option",{value:"completada"},"Completada",-1),t("option",{value:"cancelada"},"Cancelada",-1)])],512),[[T,d.value]]),y(t("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),type:"text",placeholder:"Buscar barbero...",class:"input"},null,512),[[N,u.value]])]),i(m(b),{href:s.route("citas-cliente.create"),class:"btn-primary whitespace-nowrap"},{default:o(()=>[...a[3]||(a[3]=[x(" + Nueva Cita ",-1)])]),_:1},8,["href"])])]),_:1}),i(g,null,{default:o(()=>[i(q,{columns:C,data:B.value,actions:k},{"cell-estado":o(({value:e})=>[i($,{variant:M(e)},{default:o(()=>[x(c(L(e)),1)]),_:2},1032,["variant"])]),"cell-barbero":o(({value:e})=>[t("span",I,c(e??"No Asignado"),1)]),"cell-pago_inicial":o(({item:e})=>[e.pago_inicial>0?(l(),r("span",U," Bs. "+c(e.pago_inicial.toFixed(2)),1)):(l(),r("span",z," Sin adelanto "))]),_:1},8,["data"]),n.citas.links&&n.citas.links.length>3?(l(),r("div",O,[t("div",Q," Mostrando "+c(n.citas.from)+" - "+c(n.citas.to)+" de "+c(n.citas.total),1),t("div",G,[(l(!0),r(p,null,S(n.citas.links,e=>(l(),r(p,{key:e.label},[e.url?(l(),j(m(b),{key:0,href:e.url,class:_(["px-3 py-1 rounded",e.active?"btn-primary":"btn-secondary"]),innerHTML:e.label},null,8,["href","class","innerHTML"])):(l(),r("span",{key:1,class:_(["px-3 py-1 rounded btn-secondary opacity-50 cursor-not-allowed"]),innerHTML:e.label},null,8,J))],64))),128))])])):F("",!0)]),_:1})]),_:1})],64))}};export{te as default};
